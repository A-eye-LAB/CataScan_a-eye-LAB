# 사용자 가이드

이 문서에서는 CataScan 모바일 앱의 사용 방법에 대해 설명합니다.
(작성중.. 관련 이미지 및 세부설명 추가 필요)

[처음으로](../overview.md) | 
[소개로](00_introduction.md) | 
[이전: API](03_api.md) 

## 1. 애플리케이션 설치

### Android  
Google Play Store에서 **"CataScan"** 검색 후 다운로드  

### iOS  
App Store에서 **"CataScan"** 검색 후 다운로드  

## 2. 화면 구성 및 사용 방법
**시작 화면**
 - **Start Scan**: 개인 사용자
 - **For Vision Center >**: 센터용
### 2.1 개인 사용자 모드
#### 2.1.1 개인 정보 입력 화면
 - 사용자의 **이름, 성별, 나이**를 입력
 - 첫 진입시에만 설문을 입력하며, 로그인후 해당 과정 건너뜀 
#### 2.1.2 메인 화면
 - **Check Your Eye** 버튼을 클릭하여 백내장 검사 시작
 - 저장된 검사 기록이 화면에 표시됨
#### 2.1.3 촬영 모드 선택
##### 2.1.3.1 개인(셀피) 촬영 모드
 - **Yes, I'm Scanning Myself** 버튼 클릭하여 촬영 모드 선택
 - 왼쪽/오른쪽 눈 촬영 가능**  
##### 2.1.3.2 타인 촬영 모드
 - **I Have Someone to Scan Me** 버튼 클릭하여 촬영 모드 선택
 - 왼쪽/오른쪽 눈 촬영 가능**
##### 2.1.4 사진 확인 화면
 - 촬영된 사진 확인후 **Analysis** 버튼 클릭
##### 2.1 5 AI 분석중 화면
 - 촬영 후 AI 분석 수행
#### 2.1.6 분석 결과 화면
 - AI 모델이 백내장 여부를 분석 후 결과 표시  
 - 분석 결과 확인 후 **Confirm Above and Exit Report** 버튼 클릭하여 메인 화면으로 이동
 - 결과 데이터가 메인 화면에 저장됨
 - 저장된 데이터는 메인 화면에서 확인 및 관리 가능
#### 2.1.7 개인 정보 수정 화면
 - 개인정보 수정
 - 로그아웃
<br>

### 2.2 센터 모드
#### 2.2.1 로그인 화면
 - Center ID와 Password 입력 후 **Sign In** 버튼 클릭
 - 인터넷 미연결시 별도의 화면이 표출 되며 인터넷 환경 설정후 **Try Again** 버튼 클릭
### 2.2.2 메인 화면
 - 서버에 업로드 되지 못한 검사 기록이 화면에 표시됨
 - **Upload to Web**: 서버 업로드에 실패한 데이터 일괄 전송  
 - **Add Scan Data**: 새로운 환자 데이터 추가  
#### 2.1.3 환자 정보 입력 화면
 - 환자의 **이름, 성별, 코멘트** 입력
#### 2.1.4 이용약관 동의 화면
 - 동의시 **I Agree and Proceed** 버튼 클릭
 - 비동의시 **Disagree and leave this page** 버튼 클릭
##### 2.1.4 타인 촬영 모드
 - **Start eye scan** 버튼 클릭 하여 촬영 시작
 - 왼쪽/오른쪽 눈 촬영 가능**
##### 2.1.5 사진 확인 화면
 - 촬영된 사진 확인후 **Analysis** 버튼 클릭
 - 개인 사용자 모드와 동일하게 왼쪽/오른쪽 눈 촬영 및 AI 분석 진행
##### 2.1.6 AI 분석중 화면
 - 촬영 후 AI 분석 수행
#### 2.1.7 분석 결과 화면
 - **Exit Report**: 현재 데이터 폐기 후 **FailList 화면**으로 이동
 - **Start Another Scan**: 분석된 데이터를 서버로 업로드. 인터넷 연결이 없거나 서버에 문제가 있는 경우 로컬에 임시 저장되며, FailList에서 조회 및 업로드 가능
 - AI 모델이 백내장 여부를 분석 후 결과 표시  
#### 2.1.5 선터 정보 확인 화면
 - 로그아웃


## 3. 데이터 구조

### 3.1 저장되는 데이터 항목
- **환자 정보**: 사용자 이름, 성별, 기타 병력(선택사항)  
- **이미지 데이터**: 왼쪽 눈 사진, 오른쪽 눈 사진  
- **분석 결과**: 왼쪽 눈 진단 결과, 오른쪽 눈 진단 결과  

### 3.2 데이터 흐름
1. 환자 정보 입력  
2. 눈 사진 촬영  
3. 로컬 기기에서 AI 분석 수행  
4. 분석 결과 데이터 임시 저장  
5. 서버 업로드 (센터 모드)  
   - **성공 시**: 로컬 데이터 삭제  
   - **실패 시**: 메인 화면에 저장 후 재업로드 가능. 재업로드 성공 후 로컬 데이터 삭제

## 4.문제해결 및 FAQ

### 일반적인 문제

#### Q: 카메라가 작동하지 않는 경우
A:
1. 앱 설정에서 카메라 권한이 허용되어 있는지 확인
2. 다른 카메라 앱이 정상 작동하는지 확인
3. 기기를 재부팅한 후 다시 시도

### 센터 모드 문제

#### Q: 로그인이 되지 않는 경우
A:
1. 인터넷 연결 상태 확인
2. ID와 비밀번호가 정확한지 확인

#### Q: 데이터 업로드가 실패하는 경우
A:
1. 인터넷 연결 상태 확인
2. 로그아웃 후 다시 로그인
3. FailList에서 "Upload to Web" 버튼을 통해 재시도


# 화면 기능 상세

## 1.로비(비로그인)

| No. | Description |
|:--------------: |:--------------:|
| 1 | 최초 화면 - 환자 정보 입력이 없는 경우에만 이 화면을 노출합니다. 로그인된 경우(즉, 디바이스에 저장된 환자 정보가 있는 경우) 이 화면없이 [화면4]를 노출합니다.| 
| 2 | BI 이미지 - gif 파일로 움직이는 looping 이미지 구현 예정입니다.|
| 3 | 타이틀 텍스트 - (후순위) 텍스트 애니메이션 적용 (링크)| 
| 4 | 진입 버튼 - (첫 방문) 사용자의 프로필정보가 없다면 [화면4-1]로 이동합니다. 프로필정보: 이름, 성별, 나이, (재방문) [화면5. 범용 메인화면]으로 이동합니다.| 
| 5 | 센터용 버튼 - (첫 방문) 로그인 정보가 없다면 [화면2-1. 센터용 로그인]으로 이동합니다. (재방문) [화면3. 센터용 메인화면]으로 이동합니다.| 
| 6-1 | Terms of Service 링크 - 클릭 시, 링크 ‘https://catascan.org/terms-of-service’ 로 이동 | 
| 6-2 | Privacy Policy 링크 - 클릭 시, 링크 ‘https://catascan.org/privacy-policy’ 로 이동 | 


## 5. 범용 메인화면

| No. | Description |
|:--------------: |:--------------:|
| 1 | My Info 메뉴 - 클릭 시, [화면 7-1]로 이동합니다.| 
| 2 | banner - case에 따라 메시지 노출이 바뀝니다. 검진 기록 없음 'Ready for your first eye health check? Scan now to get started!'. 위험인 경우 'Potential cataract risk detected. We recommend visiting your eye doctor'. 검출된 경우 'It is strongly advised that you visit the doctor’s office' | 
| 3-1 | 콘텐츠 - (검진 결과가 없을 경우 노출됩니다.| 
| 3-2 | 검진 기록 - 검진 결과가 있을 경우 노출됩니다. 최대 nn개 까지 제공합니다. (초과 시 가장 오래된 기록부터 삭제)| 




